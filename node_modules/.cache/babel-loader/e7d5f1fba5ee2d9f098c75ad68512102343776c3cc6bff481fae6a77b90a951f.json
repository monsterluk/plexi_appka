{"ast":null,"code":"var _s = $RefreshSig$();\n// src/hooks/useCalculation.ts\nimport { useEffect, useRef, useCallback } from 'react';\nimport { useCalculatorStore } from '../store/calculatorStore';\nexport function useCalculation(productType, options, calculateFn, debounceMs = 300) {\n  _s();\n  const {\n    setCalculationResult\n  } = useCalculatorStore();\n  const timeoutRef = useRef(null);\n  const calculate = useCallback(() => {\n    try {\n      const result = calculateFn(options);\n      setCalculationResult(productType, result);\n    } catch (error) {\n      console.error(`Error calculating ${productType}:`, error);\n    }\n  }, [options, productType, calculateFn, setCalculationResult]);\n  useEffect(() => {\n    // Clear previous timeout\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n\n    // Set new timeout\n    timeoutRef.current = setTimeout(calculate, debounceMs);\n\n    // Cleanup\n    return () => {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n    };\n  }, [calculate, debounceMs]);\n}\n_s(useCalculation, \"YuB7KhRzs2E7B2wFqxmWH6kYJWg=\", false, function () {\n  return [useCalculatorStore];\n});","map":{"version":3,"names":["useEffect","useRef","useCallback","useCalculatorStore","useCalculation","productType","options","calculateFn","debounceMs","_s","setCalculationResult","timeoutRef","calculate","result","error","console","current","clearTimeout","setTimeout"],"sources":["/Users/lukaszsikorra/Projects/plexi_appka/src/hooks/useCalculation.ts"],"sourcesContent":["// src/hooks/useCalculation.ts\nimport { useEffect, useRef, useCallback } from 'react';\nimport { useCalculatorStore } from '../store/calculatorStore';\nimport { CalculationResult } from '../types/calculator.types';\n\nexport function useCalculation<T>(\n  productType: string,\n  options: T,\n  calculateFn: (options: T) => CalculationResult,\n  debounceMs: number = 300\n) {\n  const { setCalculationResult } = useCalculatorStore();\n  const timeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n  const calculate = useCallback(() => {\n    try {\n      const result = calculateFn(options);\n      setCalculationResult(productType, result);\n    } catch (error) {\n      console.error(`Error calculating ${productType}:`, error);\n    }\n  }, [options, productType, calculateFn, setCalculationResult]);\n\n  useEffect(() => {\n    // Clear previous timeout\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n\n    // Set new timeout\n    timeoutRef.current = setTimeout(calculate, debounceMs);\n\n    // Cleanup\n    return () => {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n    };\n  }, [calculate, debounceMs]);\n}"],"mappings":";AAAA;AACA,SAASA,SAAS,EAAEC,MAAM,EAAEC,WAAW,QAAQ,OAAO;AACtD,SAASC,kBAAkB,QAAQ,0BAA0B;AAG7D,OAAO,SAASC,cAAcA,CAC5BC,WAAmB,EACnBC,OAAU,EACVC,WAA8C,EAC9CC,UAAkB,GAAG,GAAG,EACxB;EAAAC,EAAA;EACA,MAAM;IAAEC;EAAqB,CAAC,GAAGP,kBAAkB,CAAC,CAAC;EACrD,MAAMQ,UAAU,GAAGV,MAAM,CAAwB,IAAI,CAAC;EAEtD,MAAMW,SAAS,GAAGV,WAAW,CAAC,MAAM;IAClC,IAAI;MACF,MAAMW,MAAM,GAAGN,WAAW,CAACD,OAAO,CAAC;MACnCI,oBAAoB,CAACL,WAAW,EAAEQ,MAAM,CAAC;IAC3C,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,qBAAqBT,WAAW,GAAG,EAAES,KAAK,CAAC;IAC3D;EACF,CAAC,EAAE,CAACR,OAAO,EAAED,WAAW,EAAEE,WAAW,EAAEG,oBAAoB,CAAC,CAAC;EAE7DV,SAAS,CAAC,MAAM;IACd;IACA,IAAIW,UAAU,CAACK,OAAO,EAAE;MACtBC,YAAY,CAACN,UAAU,CAACK,OAAO,CAAC;IAClC;;IAEA;IACAL,UAAU,CAACK,OAAO,GAAGE,UAAU,CAACN,SAAS,EAAEJ,UAAU,CAAC;;IAEtD;IACA,OAAO,MAAM;MACX,IAAIG,UAAU,CAACK,OAAO,EAAE;QACtBC,YAAY,CAACN,UAAU,CAACK,OAAO,CAAC;MAClC;IACF,CAAC;EACH,CAAC,EAAE,CAACJ,SAAS,EAAEJ,UAAU,CAAC,CAAC;AAC7B;AAACC,EAAA,CAlCeL,cAAc;EAAA,QAMKD,kBAAkB;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}